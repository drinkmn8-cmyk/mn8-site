<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MN8 — Qualification</title>

    <!-- IMPORTANT: bump v= number anytime you change CSS to break cache -->
    <link rel="stylesheet" href="./style.css?v=6" />
  </head>

  <body id="top">
    <!-- TOPBAR (same vibe as site) -->
    <header class="topbar">
      <div class="wrap topbar-inner">
        <a class="brand" href="./index.html#top" aria-label="MN8 Home">
          <img class="brand-logo" src="./logo.png" alt="MN8" />
        </a>

        <nav class="nav" aria-label="Primary">
          <a href="./index.html#what">What it is</a>
          <a href="./index.html#process">Process</a>
          <a href="./index.html#proof">Why it works</a>
          <a href="./index.html#faq">FAQ</a>
        </nav>

        <a class="btn btn-ghost btn-sm" href="./index.html#top">Back</a>
      </div>
    </header>

    <main>
      <section class="section">
        <div class="wrap">
          <div class="form-card">
            <h1 class="form-title">Qualification</h1>

            <form id="qualifyForm">
              <div class="form-grid">
                <div class="field">
                  <label for="fullName">Full name</label>
                  <input class="control" id="fullName" name="fullName" type="text" placeholder="Your name" required />
                </div>

                <div class="field">
                  <label for="email">Email</label>
                  <input class="control" id="email" name="email" type="email" placeholder="you@email.com" required />
                </div>

                <div class="field" style="grid-column: 1 / -1;">
                  <label for="describe">Which best describes you?</label>
                  <select class="control" id="describe" name="describe" required>
                    <option value="" selected disabled>Select one</option>
                    <option>High-responsibility professional</option>
                    <option>Entrepreneur / operator</option>
                    <option>Busy parent with a full schedule</option>
                    <option>High performer rebuilding consistency</option>
                  </select>
                </div>

                <div class="field" style="grid-column: 1 / -1;">
                  <label for="breaks">What breaks consistency for you?</label>
                  <select class="control" id="breaks" name="breaks" required>
                    <option value="" selected disabled>Select one</option>
                    <option>Schedule overload / no time margin</option>
                    <option>Decision fatigue / mental load</option>
                    <option>Travel / unpredictability</option>
                    <option>Stress eating / low control at night</option>
                  </select>
                </div>

                <div class="field" style="grid-column: 1 / -1;">
                  <label for="restarts">How often have you restarted?</label>
                  <select class="control" id="restarts" name="restarts" required>
                    <option value="" selected disabled>Select one</option>
                    <option>Rarely</option>
                    <option>A few times a year</option>
                    <option>Every 1–2 months</option>
                    <option>Constant cycle</option>
                  </select>
                </div>

                <div class="field" style="grid-column: 1 / -1;">
                  <label for="result">What result would make this a win in 90 days?</label>
                  <input
                    class="control"
                    id="result"
                    name="result"
                    type="text"
                    placeholder="Example: -10 lbs while keeping my schedule"
                    required
                  />
                </div>

                <div class="field">
                  <label for="ready">If accepted, ready to start immediately?</label>
                  <select class="control" id="ready" name="ready" required>
                    <option value="" selected disabled>Select one</option>
                    <option>Yes</option>
                    <option>Within 7 days</option>
                    <option>Not yet</option>
                  </select>
                </div>

                <div class="field">
                  <label for="structure">Can you follow a simple daily structure?</label>
                  <select class="control" id="structure" name="structure" required>
                    <option value="" selected disabled>Select one</option>
                    <option>Yes</option>
                    <option>Probably</option>
                    <option>No</option>
                  </select>
                </div>

                <div class="field" style="grid-column: 1 / -1;">
                  <label for="why">Why MN8 specifically?</label>
                  <textarea class="control" id="why" name="why" placeholder="One sentence is enough." required></textarea>
                </div>
              </div>

              <div class="form-actions">
                <button class="btn btn-primary" type="submit">Submit Qualification</button>
                <span class="form-note">You’ll receive next steps by email if approved.</span>
              </div>
            </form>
          </div>
        </div>
      </section>
    </main>

<script>
  const ENDPOINT_URL = "https://script.google.com/macros/s/AKfycbxqDOYqKpkiEnGacDxwfkPRnTxwPv6aqsMC613HsKtEflxR7R50u8hQkYC8vgP4AdEw/exec";
  const form = document.getElementById("qualifyForm");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const payload = Object.fromEntries(new FormData(form).entries());
    payload.userAgent = navigator.userAgent;
    payload.pageUrl = location.href;

    try {
      const res = await fetch(ENDPOINT_URL, {
        method: "POST",
        headers: { "Content-Type": "text/plain;charset=utf-8" },
        body: JSON.stringify(payload),
      });

      const out = await res.json();
      if (!out.ok) throw new Error(out.error || "Submission failed");

      alert("Submitted. You'll receive next steps by email if approved.");
      form.reset();
    } catch (err) {
      console.error(err);
      alert("Submission failed. Try again.");
    }
  });
</script>
  </body>
</html>
